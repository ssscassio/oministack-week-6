(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){e.exports=n(289)},131:function(e,t,n){},280:function(e,t){},283:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),o=n.n(c),i=(n(131),n(118)),u=n(11),l=n(14),s=n.n(l),p=n(32),f=n(34),d=n(33),m=n.n(d),b=n(51),h=n(52);function E(){var e=Object(b.a)(["\n  height: 48px;\n  background: ",";\n  color: #fff;\n  font-weight: bold;\n  border-radius: 4px;\n  font-size: 16px;\n  padding: 0 20px;\n  margin-top: 10px;\n  border: 0;\n  cursor: pointer;\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return E=function(){return e},e}function x(){var e=Object(b.a)(["\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  form {\n    width: 300px;\n    display: flex;\n    flex-direction: column;\n    input {\n      height: 48px;\n      border: 1px solid #ddd;\n      border-radius: 4px;\n      font-size: 16px;\n      padding: 0 20px;\n      margin-top: 30px;\n    }\n  }\n"]);return x=function(){return e},e}var g=h.a.div(x()),v=h.a.button(E(),function(e){return e.color||"#7159c1"}),w=n(113),O="https://omnistack-week.herokuapp.com",j=n.n(w).a.create({baseURL:O}),y=function(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),c=n[0],o=n[1],i=function(){var t=Object(p.a)(s.a.mark(function t(n){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,j.post("/boxes",{title:c});case 3:a=t.sent,e.history.push("/box/".concat(a.data._id));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(g,null,r.a.createElement("form",{onSubmit:i,action:""},r.a.createElement("img",{src:m.a,alt:""}),r.a.createElement("input",{onChange:function(e){o(e.target.value)},placeholder:"Criar um box"}),r.a.createElement(v,{color:"#111",type:"submit",disabled:!c},"Criar")))},k=n(123),D=n(124),_=n(121),I=n(115),A=n(116),R=n.n(A),q=n(117),z=n.n(q),B=n(122);n(283);function C(e,t){switch(t.type){case"ADD_FILE":return Object(D.a)({},e,{files:[t.data].concat(Object(k.a)(e.files))});case"GET_BOX":return t.data;default:return e}}var F=function(e){var t=Object(a.useReducer)(C,{}),n=Object(f.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)(function(){function t(){return(t=Object(p.a)(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params.id,t.next=3,j.get("/boxes/".concat(n));case 3:a=t.sent,o({type:"GET_BOX",data:a.data});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){var t=e.match.params.id,n=z()(O);n.emit("connectRoom",t),n.on("file",function(e){o({type:"ADD_FILE",data:e})})}(),function(){t.apply(this,arguments)}()},[]);return r.a.createElement("div",{id:"box-container"},r.a.createElement("header",null,r.a.createElement("img",{src:m.a,alt:""}),r.a.createElement("h1",null,c.title)),r.a.createElement(_.a,{onDropAccepted:function(t){t.forEach(function(t){var n=new FormData,a=e.match.params.id;n.append("file",t),j.post("/boxes/".concat(a,"/files"),n)})}},function(e){var t=e.getRootProps,n=e.getInputProps;return r.a.createElement("div",Object.assign({className:"upload"},t()),r.a.createElement("input",n()),r.a.createElement("p",null,"Arraste arquivos ou clique aqui"))}),r.a.createElement("ul",null,c.files&&c.files.map(function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("a",{className:"fileInfo",href:e.url,target:"_blank"},r.a.createElement(B.a,{size:24,color:"#a5cfff"}),r.a.createElement("strong",null,e.title)),r.a.createElement("span",null,"h\xe1 ",Object(I.distanceInWords)(e.createdAt,new Date,{locale:R.a})))})))},L=function(){return r.a.createElement(i.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:y}),r.a.createElement(u.a,{path:"/box/:id",component:F})))},G=function(){return r.a.createElement(L,null)};o.a.render(r.a.createElement(G,null),document.getElementById("root"))},33:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"}},[[126,1,2]]]);
//# sourceMappingURL=main.48fc31d1.chunk.js.map